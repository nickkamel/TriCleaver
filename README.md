# TriCleaver

TriCleaver is a multi-objective evolutionary algorithm that designs switchable ribozymes (SRzs) that selectively the mutant transcript of an associated trinucleotide repeat disorder (TRD).

## System Requirements
- Python 3.x
- Windows OS
    
## Python Package Requirements
    
The Python packages required for this project are listed in the `requirements.txt` file. You can install them using the following command:

```bash
pip install -r requirements.txt


## Setup

- Clone this repository.
- Ensure that the four folding binaries (**RNAfold.exe**, **RNAcofold.exe**, **RNAfold300.exe**, **RNAcofold300.exe**) are in the directory called **vienna_rna_binaries**. These binaries were generated by compiling the ViennaRNA package with the **MAXLOOP** parameter changed from 30 to 300, which is necessary for correct structure prediction of larger selective ribozymes. Note that slight changes have been made to these binaries to print out the base-pairing probability matrix to the console instead of generating .ps files.

## Usage

- Create a .txt containing the sequence of the wild-type strand associated with the target TRD. Place a dash (-) on each side the repeats region.
- Create a .txt containing the sequence of the mutant strand associated with the target TRD. Place a dash (-) on each side the repeats region.
- The region upstream of the repeats must be the same in both the wild-type and mutant sequence. 
- The region downstream of the repeats must be the same in both the wild-type and mutant sequence. 
- The number of mutant repeats must be greater than the number of wild-type repeats.
- Run the script with the following command:

`python run_cli.py --wt_file=[WILD_TYPE_FILE_NAME.txt] --mutant_file=[MUTANT_FILE_NAME.txt]`

For example

`python run_cli.py --wt_file=ribogate/tc/sample_sequences/PABPN1_WT.txt --mutant_file=ribogate/tc/sample_sequences/PABPN1_Mutant.txt`

TriCleaver may also be run with the following optional parameters

`--folding-temperature | The temperature used by the folding software for secondary structure prediction`
`--num-processes | The number of processes to use during a TriCleaver run`
`--selected-cut-site-motifs | A comma delimeted list of NUH cut site motifs to be targeted by the SRzs. Defaults to all valid NUH motifs. Example usage: --selected-cut-site-motifs='GUC,GUA,CUA'`
`--environment | The environment in which the selective ribozymes (sRzs) will be tested. Currently this has no effect on the actual design of the sRzs. Instead, it determines how the sRzs will be packaged in preparation of DNA ordering. By default only generates the sRz sequence. Use --environment=in_vivo_alen to package the SRz into cassette to be inserted into the Nawrot plasmid referenced in the paper. Use --environment='in_vitro_default_T7' to append a T7 promoter the SRz for in vitro transcription`

TriCleaver will generate a diverse population of SRzs that cleave the mutant strand of the target TRD, but not the wild-type. The designs are stored in a .xlsx workbook named **tricleaver_results.xlsx**. There are two worksheets (tabs) in the workbook. In the first worksheet, each row corresponds to a designed SRz and contains the sequence of the SRz, the region of the substrate near the cut site (with the cut site denoted by a |), and various fitness scores. The SRzs are ranked in a such a way that testing them in order maximizes test diversity. The second worksehet contains the (sequence, folding constraint string) pair used to generate the predicted secondary structure (also shown) for each hydrization state for each generatred SRz.

## Additional notes
- SRz design is computationally intensive; it will take several hours on a multi-core machine.
- This code has been tested on a Windows 10 machine running Python 3.7.9.
- Installation should only take a few minutes.